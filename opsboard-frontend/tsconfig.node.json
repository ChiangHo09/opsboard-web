/**
 * @file tsconfig.node.json
 * @description 此文件专用于配置项目中需要在 Node.js 环境下运行的 TypeScript 文件。
 * @modification
 *   - [TS Fix]: 移除了已过时且与 `verbatimModuleSyntax` 功能重叠的编译选项 `erasableSyntaxOnly`。
 *   - [Reason]: `verbatimModuleSyntax` 是 TypeScript 5.5+ 推荐的现代选项，它已经包含了 `erasableSyntaxOnly` 的所有功能并提供了更强的模块解析保证。移除旧选项可以解决 `TS5023: Unknown compiler option` 的编译错误。
 */
{
  "compilerOptions": {
    "tsBuildInfoFile": "./node_modules/.tmp/tsconfig.node.tsbuildinfo",
    "target": "ES2022",
    "lib": ["ES2023"],
    "module": "ESNext",
    "skipLibCheck": true,

    /* Bundler mode */
    "moduleResolution": "bundler",
    "allowImportingTsExtensions": true,
    "verbatimModuleSyntax": true,
    "moduleDetection": "force",
    "noEmit": true,

    /* Linting */
    "strict": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    // "erasableSyntaxOnly": true, // [核心修复] 移除此行
    "noFallthroughCasesInSwitch": true,
    "noUncheckedSideEffectImports": true
  },
  "include": ["vite.config.ts"],
  "exclude": ["src"]
}