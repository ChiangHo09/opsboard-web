/**
 * 文件路径：src/index.css
 * ----------------------------------------------------------------------------
 * 功能：全局基础样式表
 * 重点修正：
 *   1. 移除 table 上的 `overflow: hidden`，改为 `overflow: visible`，
 *      并统一使用 `border-collapse: separate` + `border-spacing: 0`，
 *      以保证 sticky 表头 / 首列 正常工作。
 *   2. `html, body, #root` 的 `overflow` 从 `hidden` 改成 `visible`，
 *      避免切断 “粘性定位(sticky)” 的滚动上下文。
 *   3. 合并原文件中重复的 table 选择器，防止日后维护困惑。
 * ----------------------------------------------------------------------------
 */

/* ---------------- 0. 本地字体定义 (woff2 + woff) ---------------- */

@font-face {
  font-family: 'Roboto';            /* 字体名称：Roboto Regular */
  font-style: normal;
  font-weight: 400;
  font-display: swap;               /* 浏览器可先渲染备用字体，下载完毕再替换为 Roboto */
  src: url('./fonts/roboto-v48-latin-regular.woff2') format('woff2'),
  url('./fonts/roboto-v48-latin-regular.woff')  format('woff');
}
@font-face {
  font-family: 'Roboto';            /* Roboto Medium (500) */
  font-style: normal;
  font-weight: 500;
  font-display: swap;
  src: url('./fonts/roboto-v48-latin-500.woff2') format('woff2'),
  url('./fonts/roboto-v48-latin-500.woff')  format('woff');
}
@font-face {
  font-family: 'Roboto';            /* Roboto Bold (700) */
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: url('./fonts/roboto-v48-latin-700.woff2') format('woff2'),
  url('./fonts/roboto-v48-latin-700.woff')  format('woff');
}

/* Noto Sans SC */
@font-face {
  font-family: 'Noto Sans SC';      /* 黑体中文 Regular */
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: url('./fonts/noto-sans-sc-v38-latin-regular.woff2') format('woff2'),
  url('./fonts/noto-sans-sc-v38-latin-regular.woff')  format('woff');
}
@font-face {
  font-family: 'Noto Sans SC';      /* Medium */
  font-style: normal;
  font-weight: 500;
  font-display: swap;
  src: url('./fonts/noto-sans-sc-v38-latin-500.woff2') format('woff2'),
  url('./fonts/noto-sans-sc-v38-latin-500.woff')  format('woff');
}
@font-face {
  font-family: 'Noto Sans SC';      /* Bold */
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: url('./fonts/noto-sans-sc-v38-latin-700.woff2') format('woff2'),
  url('./fonts/noto-sans-sc-v38-latin-700.woff')  format('woff');
}

/* Roboto Mono */
@font-face {
  font-family: 'Roboto Mono';       /* 等宽字体 Regular */
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: url('./fonts/roboto-mono-v30-latin-regular.woff2') format('woff2'),
  url('./fonts/roboto-mono-v30-latin-regular.woff')  format('woff');
}
@font-face {
  font-family: 'Roboto Mono';       /* Medium */
  font-style: normal;
  font-weight: 500;
  font-display: swap;
  src: url('./fonts/roboto-mono-v30-latin-500.woff2') format('woff2'),
  url('./fonts/roboto-mono-v30-latin-500.woff')  format('woff');
}

/* ---------------- 1. 设计令牌：颜色、圆角、字体 ------------------ */
:root {
  /* 1.1 颜色变量 */
  --md-primary:   #2962ff;   /* 品牌主色 */
  --md-secondary: #ff6d00;   /* 品牌辅色 */
  --md-error:     #d32f2f;   /* 错误色 */

  /* 1.2 圆角 */
  --md-radius:    12px;      /* 全局圆角 */

  /* 1.3 字体变量：优先使用本地字体 fallback 到系统字体 */
  --md-font: 'Roboto', 'Noto Sans SC', 'PingFang SC', 'Microsoft YaHei',
  'Helvetica Neue', Arial, sans-serif;
}

/* ---------------- 2. 页面基础布局 ------------------------------ */
html,
body,
#root {
  height: 100%;               /* 必须撑满，子元素才能使用百分比高度 */
  margin: 0;
  overflow: visible;          /* ✅ 必须可滚动，以支持 sticky */
  /* stylelint-disable-next-line font-family-no-missing-generic-family-keyword */
  font-family: var(--md-font);
  background-color: #fafafa;  /* 全局浅灰背景 */
  -webkit-font-smoothing: antialiased; /* 抗锯齿优化 */
  -moz-osx-font-smoothing: grayscale;
}

/* 媒体元素 */
img,
video {
  max-width: 100%;
  height: auto;
  display: block;
}

/* ---------------- 3. 表格统一视觉  ------------------------------ */
/* 说明：
 *  - `border-collapse: separate`   ⇒ 让 position: sticky 生效
 *  - `border-spacing: 0`           ⇒ 去掉单元格缝隙，模拟 collapse 效果
 *  - `overflow: visible`           ⇒ 允许 sticky 单元格向外“溢出”父容器
 */
table {
  width: 100%;
  border-collapse: separate;  /* ✅ sticky 关键点 */
  border-spacing: 0;          /* 没有单元格间隙 */
  overflow: visible;          /* ✅ 绝不能 hidden */
  border-radius: var(--md-radius);
}

/* ---------------- 4. 滚动条美化 (WebKit) ------------------------ */
::-webkit-scrollbar {
  width: 8px;    /* 竖向滚动条宽度 */
  height: 8px;   /* 横向滚动条高度 */
}
::-webkit-scrollbar-track {
  background: transparent;    /* 轨道透明 */
}
::-webkit-scrollbar-thumb {
  background: rgba(0, 0, 0, 0.2); /* 滑块颜色 */
  border-radius: 4px;
}
::-webkit-scrollbar-thumb:hover {
  background: rgba(0, 0, 0, 0.3);
}

/* ---------------- 5. 文本 / 链接 / 代码块 ----------------------- */
a {
  color: inherit;
  text-decoration: none;
}
a:hover {
  text-decoration: underline;
}

code,
pre {
  font-family: 'Roboto Mono', ui-monospace, SFMono-Regular,
  'SF Mono', Menlo, Consolas, monospace;
}
pre {
  background: #f6f6f6;
  padding: 1rem;
  border-radius: var(--md-radius);
  overflow-x: auto;          /* 代码块横向滚动 */
}

/* 禁用态统一样式 */
[disabled] {
  opacity: 0.45;
  cursor: not-allowed !important;
}
